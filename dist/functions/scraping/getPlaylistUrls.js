"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const playwright_1=require("playwright");exports.default=async e=>{if(!e||""===e.trim())return console.log("no id"),process.exit(1);const t=await playwright_1.chromium.launch({args:["--no-sandbox","--disable-setuid-sandbox","--disable-infobars","--disable-extensions","--disable-popup-blocking","--window-size=1920,1080"]}),a=await t.newContext({userAgent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36",viewport:{width:1920,height:1080},acceptDownloads:!1,baseURL:"https://www.youtube.com"});await a.addCookies(require("../../../config/cookies.json")),await a.setDefaultTimeout(18e4);const o=await a.newPage();await o.goto(`https://youtube.com/playlist?list=${e}`),await o.waitForLoadState("networkidle");const i="a#video-title.yt-simple-endpoint.style-scope.ytd-playlist-video-renderer";await o.waitForSelector(i);const s=await o.evaluate(e=>Array.from(document.querySelectorAll(e)).map(e=>e.href).filter(e=>e.includes("watch")||e.includes("youtu.be")||e.includes("?v=")).map(e=>{const t=new URL(e,"https://www.youtube.com");return t.searchParams.get("v")??t.pathname.split("/").pop()}),i);return await t.close(),s};