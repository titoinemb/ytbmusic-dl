#!/usr/bin/env node
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const functions_1=require("./functions"),child_process_1=require("child_process");let args=process.argv[2];(async r=>{(0,child_process_1.exec)("yt-dlp --version",async(n,t,e)=>{if(n)return console.log("ytb-dlp is not installed. Please install yt-dlp from https://toolbrew.org/download and make sure it's in your PATH.");(0,child_process_1.exec)("ffmpeg -version",async(n,t,e)=>{if(n)return console.log("FFmpeg is not installed. Please install FFmpeg from https://ffmpeg.org/download.html and make sure it's in your PATH.");if(!r||""===r.trim())return(0,functions_1.invalidUrlError)();let s=await(0,functions_1.urlTypes)(r),i=s?.type,l=s?.id;if(!s)return(0,functions_1.invalidUrlError)();if("watch"===i)return(0,functions_1.installingSong)(l);if("playlist"!==i)return(0,functions_1.invalidUrlError)();{let r=await(0,functions_1.getPlaylistUrls)(l);for(let n=0;n<=r.length-1;n++)await(0,functions_1.installingSong)(r[n])}})})})(args?args.toString():"");